(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),n=c(7),i=c.n(n),l=(c(15),c(10)),r=c(9),o=c(2),j=c(0),d=function(e){e._id;var t=e.title,c=e.description,s=e.type;e.created;return Object(j.jsxs)("div",{class:"card blue-grey darken-1",children:[Object(j.jsxs)("div",{class:"card-content white-text",children:[Object(j.jsx)("span",{className:"card-title",children:t}),Object(j.jsx)("span",{className:"new badge","data-badge-caption":"",children:s}),Object(j.jsx)("p",{children:c})]}),Object(j.jsx)("div",{class:"card-action right-align",children:Object(j.jsx)("a",{class:"btn-floating disabled",children:Object(j.jsx)("i",{class:"material-icons",children:"thumb_up"})})})]})},b=c(6),u=c.n(b),h=c(8),v=function(e){var t=e.onSubmitSuccess,c=Object(s.useState)(""),a=Object(o.a)(c,2),n=a[0],i=a[1],l=Object(s.useState)(""),r=Object(o.a)(l,2),d=r[0],b=r[1],v=Object(s.useState)(""),O=Object(o.a)(v,2),f=O[0],m=O[1],x=function(){var e=Object(h.a)(u.a.mark((function e(c){var s,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("#onSubmitForm"),c.preventDefault(),e.next=4,fetch("/api/feedbacks",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({title:n,description:d,type:f})});case 4:return s=e.sent,e.next=7,s.json();case 7:a=e.sent,t(a.data),i(""),b(""),m("");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)("h4",{children:"Formulaire"}),Object(j.jsxs)("form",{className:"row",onSubmit:x,children:[Object(j.jsxs)("div",{className:"Form-group input-field col s12",children:[Object(j.jsx)("label",{htmlFor:"form-title",children:"Titre de votre suggestion"}),Object(j.jsx)("input",{id:"form-title",onChange:function(e){var t=e.target;i(t.value)},type:"text",className:"Form-title",value:n})]}),Object(j.jsx)("div",{className:"input-field col s12",children:Object(j.jsx)("select",{className:"browser-default",onChange:function(e){var t=e.target;console.log("target",t.value),m(t.value)},children:[{value:"",htmlText:""},{value:"live",htmlText:"Live"},{value:"tutorial",htmlText:"Tutoriel"},{value:"article",htmlText:"Article de blog"}].map((function(e){var t=e.value,c=e.htmlText;return Object(j.jsx)("option",{value:t,children:c},t)}))})}),Object(j.jsxs)("div",{className:"input-field col s12",children:[Object(j.jsx)("label",{for:"description",children:"Description de votre suggestion"}),Object(j.jsx)("textarea",{id:"description",className:"materialize-textarea",onChange:function(e){var t=e.target;b(t.value)},value:d})]}),Object(j.jsx)("div",{children:Object(j.jsxs)("button",{className:"btn waves-effect waves-light",type:"submit",name:"action",children:["Submit",Object(j.jsx)("i",{className:"material-icons right",children:"send"})]})})]})]})},O=function(){var e=Object(s.useState)(!0),t=Object(o.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)([]),i=Object(o.a)(n,2),b=i[0],u=i[1],h=Object(s.useState)([]),O=Object(o.a)(h,2),f=O[0],m=O[1],x=Object(s.useState)("live"),p=Object(o.a)(x,2),g=p[0],N=p[1];Object(s.useEffect)((function(){fetch("/api/feedbacks").then((function(e){return e.json()})).then((function(e){console.log("json",e),a(!1),u(e.data),S(e.data,g)}))}),[]);var w=function(e){S(b,e)},S=function(e,t){var c=e.filter((function(e){return e.type===t}));N(t),m(c)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("nav",{children:Object(j.jsxs)("div",{class:"nav-wrapper",children:[Object(j.jsx)("a",{href:"#",class:"brand-logo",style:{paddingLeft:"1em"},children:"Codiscovery Feedback"}),Object(j.jsx)("ul",{id:"nav-mobile",class:"right hide-on-med-and-down"})]})}),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{className:"App-title",children:"Codiscovery Feedback"}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col",children:Object(j.jsxs)("a",{className:"waves-effect waves-light btn red pulse",onClick:function(){return w("form")},children:[Object(j.jsx)("i",{className:"material-icons left",children:"add"}),"Nouveau"]})})}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col s4",children:Object(j.jsxs)("a",{className:"waves-effect waves-light btn-large",onClick:function(){return w("live")},children:[Object(j.jsx)("i",{class:"material-icons left",children:"live_tv"}),"Lives"]})}),Object(j.jsx)("div",{className:"col s4",children:Object(j.jsxs)("a",{className:"waves-effect waves-light btn-large",onClick:function(){return w("tutorial")},children:[Object(j.jsx)("i",{class:"material-icons left",children:"school"}),"Tutoriels"]})}),Object(j.jsx)("div",{className:"col s4",children:Object(j.jsxs)("a",{className:"waves-effect waves-light btn-large",onClick:function(){return w("article")},children:[Object(j.jsx)("i",{class:"material-icons left",children:"library_books"}),"Articles de blog"]})})]}),c&&Object(j.jsx)("p",{children:"Loading"}),!c&&"form"!==g&&f.map((function(e){return Object(j.jsx)(d,Object(l.a)({},e),e._id)})),"form"===g&&Object(j.jsx)(v,{onSubmitSuccess:function(e){var t=Object(r.a)(b);t.push(e),u(t),S(t,e.type)}})]})]})},f=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,19)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),s(e),a(e),n(e),i(e)}))};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root")),f()}},[[18,1,2]]]);
//# sourceMappingURL=main.284dba2f.chunk.js.map