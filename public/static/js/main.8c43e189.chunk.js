(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),r=n(7),a=n.n(r),o=(n(15),n(10)),s=n(9),l=n(2),u=n(0),j=function(e){e._id;var t=e.title,n=e.description,c=e.type;e.created;return Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{children:t}),Object(u.jsx)("div",{children:Object(u.jsx)("span",{children:c})}),Object(u.jsx)("p",{children:n})]})},b=n(6),d=n.n(b),h=n(8),O=function(e){var t=e.onSubmitSuccess,n=Object(c.useState)(""),i=Object(l.a)(n,2),r=i[0],a=i[1],o=Object(c.useState)(""),s=Object(l.a)(o,2),j=s[0],b=s[1],O=Object(c.useState)(""),f=Object(l.a)(O,2),v=f[0],p=f[1],x=function(){var e=Object(h.a)(d.a.mark((function e(n){var c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("#onSubmitForm"),n.preventDefault(),e.next=4,fetch("/api/feedbacks",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({title:r,description:j,type:v})});case 4:return c=e.sent,e.next=7,c.json();case 7:i=e.sent,t(i.data),a(""),b(""),p("");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{children:"Formulaire"}),Object(u.jsxs)("form",{onSubmit:x,children:[Object(u.jsxs)("div",{className:"Form-group",children:[Object(u.jsx)("label",{htmlFor:"form-title",children:"Titre"}),Object(u.jsx)("input",{id:"form-title",onChange:function(e){var t=e.target;a(t.value)},type:"text",className:"Form-title",value:r})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("select",{onChange:function(e){var t=e.target;console.log("target",t.value),p(t.value)},children:[{value:"",htmlText:""},{value:"live",htmlText:"Live"},{value:"tutorial",htmlText:"Tutoriel"},{value:"article",htmlText:"Article de blog"}].map((function(e){var t=e.value,n=e.htmlText;return Object(u.jsx)("option",{value:t,children:n},t)}))}),Object(u.jsx)("div",{children:Object(u.jsx)("textarea",{onChange:function(e){var t=e.target;b(t.value)},value:j})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"Submit"})})]})]})]})},f=(n(18),function(){var e=Object(c.useState)(!0),t=Object(l.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)([]),a=Object(l.a)(r,2),b=a[0],d=a[1],h=Object(c.useState)([]),f=Object(l.a)(h,2),v=f[0],p=f[1],x=Object(c.useState)("live"),m=Object(l.a)(x,2),g=m[0],S=m[1];Object(c.useEffect)((function(){fetch("/api/feedbacks").then((function(e){return e.json()})).then((function(e){console.log("json",e),i(!1),d(e.data),C(e.data,g)}))}),[]);var y=function(e){C(b,e)},C=function(e,t){var n=e.filter((function(e){return e.type===t}));S(t),p(n)};return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{className:"App-title",children:"Codiscovery Feedback"}),Object(u.jsx)("p",{className:"App-flink",onClick:function(){return y("form")},children:"Nouvelle suggestion"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:function(){return y("live")},children:"Lives"}),Object(u.jsx)("button",{onClick:function(){return y("tutorial")},children:"Tutoriels"}),Object(u.jsx)("button",{onClick:function(){return y("article")},children:"Articles de blog"})]}),n&&Object(u.jsx)("p",{children:"Loading"}),!n&&"form"!==g&&v.map((function(e){return Object(u.jsx)(j,Object(o.a)({},e),e._id)})),"form"===g&&Object(u.jsx)(O,{onSubmitSuccess:function(e){var t=Object(s.a)(b);t.push(e),d(t),C(t,e.type)}})]})}),v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};a.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(f,{})}),document.getElementById("root")),v()}},[[19,1,2]]]);
//# sourceMappingURL=main.8c43e189.chunk.js.map